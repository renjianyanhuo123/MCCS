<UserControl x:Class="MCCS.Views.MethodManager.Contents.MethodWorkflowSettingPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:MCCS.Views.MethodManager.Contents"
             xmlns:prism="http://prismlibrary.com/"
             xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
             xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
             prism:ViewModelLocator.AutoWireViewModel="True"
             mc:Ignorable="d" 
             xmlns:localViewModel="clr-namespace:MCCS.ViewModels.MethodManager.Contents"
             d:DesignHeight="450" d:DesignWidth="800" d:DataContext="{d:DesignInstance localViewModel:MethodWorkflowSettingPageViewModel}">
    <Grid>
        <!-- 滚动区域 -->
        <ScrollViewer Name="CanvasScrollViewer"
                      HorizontalScrollBarVisibility="Auto"
                      VerticalScrollBarVisibility="Auto" 
                      Background="LightGray">
            <Canvas Name="DrawingCanvas" 
                    Background="White"
                    Width="1500" 
                    Height="2000">
                <Canvas.RenderTransform>
                    <ScaleTransform x:Name="CanvasScaleTransform" 
                                    ScaleX="1" ScaleY="1" 
                                    CenterX="0" CenterY="0"/>
                </Canvas.RenderTransform>
                <b:Interaction.Triggers>
                    <b:EventTrigger EventName="Loaded">
                        <b:InvokeCommandAction Command="{Binding LoadCommand}" CommandParameter="{Binding ElementName=DrawingCanvas}"/>
                    </b:EventTrigger> 
                </b:Interaction.Triggers> 
            </Canvas>
        </ScrollViewer>

        <!-- 固定在顶部的工具栏（覆盖在 ScrollViewer 上方） -->
        <StackPanel VerticalAlignment="Top"
                    Opacity="0.9"
                    Background="White"
                    Orientation="Horizontal"
                    Panel.ZIndex="999">
            <materialDesign:NumericUpDown 
                Margin="30,10,10,10" 
                materialDesign:TextFieldAssist.SuffixText="%" 
                Value="100"
                Maximum="100" Minimum="0" />
        </StackPanel>
    </Grid>
</UserControl>
