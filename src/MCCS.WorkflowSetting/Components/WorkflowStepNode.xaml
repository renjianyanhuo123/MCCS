<UserControl x:Class="MCCS.WorkflowSetting.Components.WorkflowStepNode"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">
    <UserControl.Resources>
        <!-- 圆形图标样式 -->
        <Style x:Key="CircleIconStyle" TargetType="Ellipse">
            <Setter Property="Fill" Value="White"/>
            <Setter Property="Width" Value="48"/>
            <Setter Property="Height" Value="48"/>
        </Style>

        <!-- 链接文本样式 -->
        <Style x:Key="LinkTextStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#3EAEF5"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="TextDecorations" Value="Underline"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </UserControl.Resources>

    <Border Background="White" 
            CornerRadius="8" 
            BorderBrush="#E0E0E0" 
            BorderThickness="1"
            Height="110"
            Width="260">
        <Border.Effect>
            <DropShadowEffect Color="Gray" 
                            Opacity="0.2" 
                            BlurRadius="10" 
                            ShadowDepth="2"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="0.55*"/>
                <RowDefinition Height="0.45*"/>
            </Grid.RowDefinitions>

            <!-- 橙色标题栏 -->
            <Border Grid.Row="0" 
                    Background="{Binding TitleBackground, ElementName=Root}" 
                    CornerRadius="8,8,0,0">
                <Grid>
                    <!-- 右上角三个点 -->
                    <StackPanel Orientation="Horizontal" 
                              HorizontalAlignment="Right" 
                              VerticalAlignment="Top" 
                              Margin="0,15,15,0">
                        <Ellipse Width="4" Height="4" Fill="White" Margin="2"/>
                        <Ellipse Width="4" Height="4" Fill="White" Margin="2"/>
                        <Ellipse Width="4" Height="4" Fill="White" Margin="2"/>
                    </StackPanel>

                    <!-- 标题文本 -->
                    <TextBlock Text="腾路记录" 
                             Foreground="White" 
                             FontSize="14" 
                             FontWeight="Bold"
                             HorizontalAlignment="Center" 
                             VerticalAlignment="Bottom"
                             Margin="0,0,0,10"/>
                </Grid>
            </Border>

            <!-- 圆形图标 (悬浮在标题栏边缘) -->
            <Ellipse Style="{StaticResource CircleIconStyle}"
                     Grid.Row="0"
                     VerticalAlignment="Top"
                     HorizontalAlignment="Center"
                     Margin="0,-25,0,0">
                <Ellipse.Effect>
                    <DropShadowEffect Color="Gray" 
                                    Opacity="0.3" 
                                    BlurRadius="8" 
                                    ShadowDepth="2"/>
                </Ellipse.Effect>
            </Ellipse>

            <!-- 图标内容 (文件图标) -->
            <Path Grid.Row="0"
                  Data="M12,2 L12,8 L18,8 L18,20 L6,20 L6,2 Z M12,2 L18,8 L12,8 Z"
                  Fill="{Binding TitleBackground, ElementName=Root}"
                  Stretch="Uniform"
                  Width="20"
                  Height="24"
                  VerticalAlignment="Top"
                  HorizontalAlignment="Center"
                  Margin="0,-12,0,0"/>

            <!-- 内容区域 -->
            <StackPanel Grid.Row="1" 
                       Margin="20,35,20,20"
                       VerticalAlignment="Center">
                <TextBlock x:Name="LinkText"
                         Text="没有此记录" 
                         Style="{StaticResource LinkTextStyle}"
                         HorizontalAlignment="Left" />
            </StackPanel>
        </Grid>
    </Border>
</UserControl>
